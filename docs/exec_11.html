<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="ko" xml:lang="ko"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.9.13">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="author" content="이상일(서울대학교 지리교육과)">
<title>웹 앱 개발: Shiny의 활용 – Data Science</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./exec_10.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-ac077c1e730dfeb5e42400639d17284e.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark-ea00d30dd9b950c7ecb6e17bc6ca0835.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-ac077c1e730dfeb5e42400639d17284e.css" rel="stylesheet" class="quarto-color-scheme-extra" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-9e227471bb36b425561843ed1c2ca3ae.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark-1d1e30c4ff39a421c5d0be39657e8b6a.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="site_libs/bootstrap/bootstrap-9e227471bb36b425561843ed1c2ca3ae.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme-extra" id="quarto-bootstrap" data-mode="light">
<script src="site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "일치 없음",
    "search-matching-documents-text": "일치된 문서",
    "search-copy-link-title": "검색 링크 복사",
    "search-hide-matches-text": "추가 검색 결과 숨기기",
    "search-more-match-text": "추가 검색결과",
    "search-more-matches-text": "추가 검색결과",
    "search-clear-button-title": "제거",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "취소",
    "search-submit-button-title": "검색",
    "search-label": "검색"
  }
}</script><link rel="stylesheet" href="styles.css">
</head>
<body class="nav-sidebar floating quarto-light"><script id="quarto-html-before-body" type="application/javascript">
    const toggleBodyColorMode = (bsSheetEl) => {
      const mode = bsSheetEl.getAttribute("data-mode");
      const bodyEl = window.document.querySelector("body");
      if (mode === "dark") {
        bodyEl.classList.add("quarto-dark");
        bodyEl.classList.remove("quarto-light");
      } else {
        bodyEl.classList.add("quarto-light");
        bodyEl.classList.remove("quarto-dark");
      }
    }
    const toggleBodyColorPrimary = () => {
      const bsSheetEl = window.document.querySelector("link#quarto-bootstrap:not([rel=disabled-stylesheet])");
      if (bsSheetEl) {
        toggleBodyColorMode(bsSheetEl);
      }
    }
    const setColorSchemeToggle = (alternate) => {
      const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
      for (let i=0; i < toggles.length; i++) {
        const toggle = toggles[i];
        if (toggle) {
          if (alternate) {
            toggle.classList.add("alternate");
          } else {
            toggle.classList.remove("alternate");
          }
        }
      }
    };
    const toggleColorMode = (alternate) => {
      // Switch the stylesheets
      const primaryStylesheets = window.document.querySelectorAll('link.quarto-color-scheme:not(.quarto-color-alternate)');
      const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
      manageTransitions('#quarto-margin-sidebar .nav-link', false);
      if (alternate) {
        // note: dark is layered on light, we don't disable primary!
        enableStylesheet(alternateStylesheets);
        for (const sheetNode of alternateStylesheets) {
          if (sheetNode.id === "quarto-bootstrap") {
            toggleBodyColorMode(sheetNode);
          }
        }
      } else {
        disableStylesheet(alternateStylesheets);
        enableStylesheet(primaryStylesheets)
        toggleBodyColorPrimary();
      }
      manageTransitions('#quarto-margin-sidebar .nav-link', true);
      // Switch the toggles
      setColorSchemeToggle(alternate)
      // Hack to workaround the fact that safari doesn't
      // properly recolor the scrollbar when toggling (#1455)
      if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
        manageTransitions("body", false);
        window.scrollTo(0, 1);
        setTimeout(() => {
          window.scrollTo(0, 0);
          manageTransitions("body", true);
        }, 40);
      }
    }
    const disableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        stylesheet.rel = 'disabled-stylesheet';
      }
    }
    const enableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        if(stylesheet.rel !== 'stylesheet') { // for Chrome, which will still FOUC without this check
          stylesheet.rel = 'stylesheet';
        }
      }
    }
    const manageTransitions = (selector, allowTransitions) => {
      const els = window.document.querySelectorAll(selector);
      for (let i=0; i < els.length; i++) {
        const el = els[i];
        if (allowTransitions) {
          el.classList.remove('notransition');
        } else {
          el.classList.add('notransition');
        }
      }
    }
    const isFileUrl = () => {
      return window.location.protocol === 'file:';
    }
    const hasAlternateSentinel = () => {
      let styleSentinel = getColorSchemeSentinel();
      if (styleSentinel !== null) {
        return styleSentinel === "alternate";
      } else {
        return false;
      }
    }
    const setStyleSentinel = (alternate) => {
      const value = alternate ? "alternate" : "default";
      if (!isFileUrl()) {
        window.localStorage.setItem("quarto-color-scheme", value);
      } else {
        localAlternateSentinel = value;
      }
    }
    const getColorSchemeSentinel = () => {
      if (!isFileUrl()) {
        const storageValue = window.localStorage.getItem("quarto-color-scheme");
        return storageValue != null ? storageValue : localAlternateSentinel;
      } else {
        return localAlternateSentinel;
      }
    }
    const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
      const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
      const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
      let newTheme = '';
      if(authorPrefersDark) {
        newTheme = isAlternate ? baseTheme : alternateTheme;
      } else {
        newTheme = isAlternate ? alternateTheme : baseTheme;
      }
      const changeGiscusTheme = () => {
        // From: https://github.com/giscus/giscus/issues/336
        const sendMessage = (message) => {
          const iframe = document.querySelector('iframe.giscus-frame');
          if (!iframe) return;
          iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
        }
        sendMessage({
          setConfig: {
            theme: newTheme
          }
        });
      }
      const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
      if (isGiscussLoaded) {
        changeGiscusTheme();
      }
    };
    const authorPrefersDark = false;
    const darkModeDefault = authorPrefersDark;
      document.querySelector('link#quarto-text-highlighting-styles.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
      document.querySelector('link#quarto-bootstrap.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
    let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
    // Dark / light mode switch
    window.quartoToggleColorScheme = () => {
      // Read the current dark / light value
      let toAlternate = !hasAlternateSentinel();
      toggleColorMode(toAlternate);
      setStyleSentinel(toAlternate);
      toggleGiscusIfUsed(toAlternate, darkModeDefault);
      window.dispatchEvent(new Event('resize'));
    };
    // Switch to dark mode if need be
    if (hasAlternateSentinel()) {
      toggleColorMode(true);
    } else {
      toggleColorMode(false);
    }
  </script>

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="사이드바 전환" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <a class="flex-grow-1 no-decor" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="사이드바 전환" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
          <h1 class="quarto-secondary-nav-title">웹 앱 개발: Shiny의 활용</h1>
        </a>     
      <button type="button" class="btn quarto-search-button" aria-label="검색" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Data Science</a> 
        <div class="sidebar-tools-main">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="다크 모드 전환"><i class="bi"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="검색"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">웹사이트 소개</span></a>
  </div>
</li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">R과 데이터사이언스</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="토글 섹션">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./exec_01.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">R과 RStudio</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./exec_02.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">R과 데이터사이언스 과정</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./exec_03.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">소통하기: Quarto로 대시보드 만들기</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./exec_04.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">불러오기와 정돈하기</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./exec_05.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">변형하기</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./exec_06.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">시각화하기</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./exec_07.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">탐색하기</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./exec_08.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">수집하기</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./exec_09.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">소통하기: 인터랙티브 시각화</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./exec_10.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">소통하기: 지리공간적 시각화</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./exec_11.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">웹 앱 개발: Shiny의 활용</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">R 프레젠테이션: 2025/2</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="토글 섹션">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./R_lec_01_2025.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">| <span style="color:coral;font-size:0.6em">R Lecture 1</span> | <span style="font-size:1em">R과 RStudio</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./R_lec_02_2025.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">| <span style="color:coral;font-size:0.6em">R Lecture 2</span> | <span style="font-size:1em">R과 데이터사이언스</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./R_lec_03_2025.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">| <span style="color:coral;font-size:0.6em">R Lecture 3</span> | <span style="font-size:1em">소통하기: Quarto</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./R_lec_04_2025.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">| <span style="color:coral;font-size:0.6em">R Lecture 4</span> | <span style="font-size:1em">데이터 불러오기와 정돈하기</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./R_lec_05_2025.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">| <span style="color:coral;font-size:0.6em">R Lecture 5</span> | <span style="font-size:1em">데이터 변형하기</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./R_lec_06_2025.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">| <span style="color:coral;font-size:0.6em">R Lecture 6</span> | <span style="font-size:1em">데이터 시각화하기</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./R_lec_07_2025.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">| <span style="color:coral;font-size:0.6em">R Lecture 7</span> | <span style="font-size:1em">데이터 탐색하기</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./R_lec_08_2025.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">| <span style="color:coral;font-size:0.6em">R Lecture 8</span> | <span style="font-size:1em">데이터 수집하기</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./R_lec_09_2025.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">| <span style="color:coral;font-size:0.6em">R Lecture 9</span> | <span style="font-size:1em">웹 앱 개발: 인터랙티브 시각화</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./R_lec_10_2025.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">| <span style="color:coral;font-size:0.6em">R Lecture 10</span> | <span style="font-size:1em">웹 앱 개발: 심화</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./R_lec_11_2025.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">| <span style="color:coral;font-size:0.6em">R Lecture 11</span> | <span style="font-size:1em">웹 앱 개발: Shiny 1</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./R_lec_12_2025.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">| <span style="color:coral;font-size:0.6em">R Lecture 12</span> | <span style="font-size:1em">웹 앱 개발: Shiny 2</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">R 프레젠테이션: 2024/1</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="토글 섹션">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./R_lec_01.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">R &amp; RStudio</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./R_lec_02.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">R &amp; Data Science</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./R_lec_03.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Import and Tidying</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./R_lec_04.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Transformation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./R_lec_05.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Visualization</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./R_lec_06.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Exploration</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./R_lec_07.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Collection</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./R_lec_08.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Communication with Data: Quarto</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./R_lec_09.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Communication with Data: Dashboards</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./R_lec_10.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Advanced R</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">R 실습: 2025/2</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="토글 섹션">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab_01_2025.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">R and RStudio</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab_02_2025.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">R과 데이터사이언스 과정</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab_03_2025.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">소통하기: Quarto로 대시보드 만들기</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab_04_2025.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">데이터 불러오기와 정돈하기</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab_05_2025.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">데이터 변형하기</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab_06_2025.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">시각화하기</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab_07_2025.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">데이터 사이언스의 과정 복습하기</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab_08_2025.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">데이터 수집하기</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab_09_2025.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">소통하기: 인터랙티브 시각화</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab_10_2025.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">소통하기: 지리공간적 시각화</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true">
 <span class="menu-text">R 실습: 2024/1</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="토글 섹션">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab_01.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab01: R과 RStudio</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab_02.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab02: R과 데이터사이언스</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab_03.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab03: 데이터 불러오기와 정리하기</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab_04.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab04: 데이터 변형하기</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab_05.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab05: 데이터 시각화하기</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab_06.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab06: 데이터 탐색하기</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab_07.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab07: 데이터 수집하기</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab_08.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab08: 데이터로 소통하기: Quarto</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab_09.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab09: 데이터로 소통하기: 대시보드 만들기</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab_10.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab10: 데이터로 소통하기: 동적, 반응형 시각화</span></a>
  </div>
</li>
      </ul>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">목차</h2>
   
  <ul>
<li><a href="#%EA%B0%9C%EC%9A%94" id="toc-개요" class="nav-link active" data-scroll-target="#%EA%B0%9C%EC%9A%94">개요</a></li>
  <li>
<a href="#%EA%B8%B0%EB%B3%B8-%EB%8F%99%EC%9E%91" id="toc-기본-동작" class="nav-link" data-scroll-target="#%EA%B8%B0%EB%B3%B8-%EB%8F%99%EC%9E%91"><span class="header-section-number">1</span> 기본 동작</a>
  <ul class="collapse">
<li><a href="#%EA%B8%B0%EB%B3%B8-%EA%B5%AC%EC%A1%B0" id="toc-기본-구조" class="nav-link" data-scroll-target="#%EA%B8%B0%EB%B3%B8-%EA%B5%AC%EC%A1%B0"><span class="header-section-number">1.1</span> 기본 구조</a></li>
  <li><a href="#shiny-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8%EC%9D%98-%EC%83%9D%EC%84%B1" id="toc-shiny-프로젝트의-생성" class="nav-link" data-scroll-target="#shiny-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8%EC%9D%98-%EC%83%9D%EC%84%B1"><span class="header-section-number">1.2</span> Shiny 프로젝트의 생성</a></li>
  <li><a href="#%EC%9B%B9-%EC%95%B1%EC%9D%98-%EC%83%9D%EC%84%B1" id="toc-웹-앱의-생성" class="nav-link" data-scroll-target="#%EC%9B%B9-%EC%95%B1%EC%9D%98-%EC%83%9D%EC%84%B1"><span class="header-section-number">1.3</span> 웹 앱의 생성</a></li>
  </ul>
</li>
  <li>
<a href="#shiny%EC%9D%98-%EA%B8%B0%EB%B3%B8-%EB%AC%B8%EB%B2%95-%EC%B2%B4%EA%B3%84" id="toc-shiny의-기본-문법-체계" class="nav-link" data-scroll-target="#shiny%EC%9D%98-%EA%B8%B0%EB%B3%B8-%EB%AC%B8%EB%B2%95-%EC%B2%B4%EA%B3%84"><span class="header-section-number">2</span> Shiny의 기본 문법 체계</a>
  <ul class="collapse">
<li><a href="#ui-%EB%B6%80%EB%B6%84" id="toc-ui-부분" class="nav-link" data-scroll-target="#ui-%EB%B6%80%EB%B6%84"><span class="header-section-number">2.1</span> UI 부분</a></li>
  <li><a href="#server-%EB%B6%80%EB%B6%84" id="toc-server-부분" class="nav-link" data-scroll-target="#server-%EB%B6%80%EB%B6%84"><span class="header-section-number">2.2</span> Server 부분</a></li>
  <li><a href="#%EA%B2%B0%ED%95%A9-%EB%B0%8F-%EC%8B%A4%ED%96%89-%EB%B6%80%EB%B6%84" id="toc-결합-및-실행-부분" class="nav-link" data-scroll-target="#%EA%B2%B0%ED%95%A9-%EB%B0%8F-%EC%8B%A4%ED%96%89-%EB%B6%80%EB%B6%84"><span class="header-section-number">2.3</span> 결합 및 실행 부분</a></li>
  </ul>
</li>
  <li>
<a href="#%EC%9E%85%EC%B6%9C%EB%A0%A5-%ED%95%A8%EC%88%98%EC%9D%98-%EC%A2%85%EB%A5%98" id="toc-입출력-함수의-종류" class="nav-link" data-scroll-target="#%EC%9E%85%EC%B6%9C%EB%A0%A5-%ED%95%A8%EC%88%98%EC%9D%98-%EC%A2%85%EB%A5%98"><span class="header-section-number">3</span> 입출력 함수의 종류</a>
  <ul class="collapse">
<li><a href="#%EC%9E%85%EB%A0%A5-%ED%95%A8%EC%88%98" id="toc-입력-함수" class="nav-link" data-scroll-target="#%EC%9E%85%EB%A0%A5-%ED%95%A8%EC%88%98"><span class="header-section-number">3.1</span> 입력 함수</a></li>
  <li><a href="#%EC%B6%9C%EB%A0%A5-%ED%95%A8%EC%88%98-%EC%B6%9C%EB%A0%A5-%ED%91%9C%EC%B6%9C-%ED%95%A8%EC%88%98%EC%99%80-%EC%B6%9C%EB%A0%A5-%EC%83%9D%EC%84%B1-%ED%95%A8%EC%88%98" id="toc-출력-함수-출력-표출-함수와-출력-생성-함수" class="nav-link" data-scroll-target="#%EC%B6%9C%EB%A0%A5-%ED%95%A8%EC%88%98-%EC%B6%9C%EB%A0%A5-%ED%91%9C%EC%B6%9C-%ED%95%A8%EC%88%98%EC%99%80-%EC%B6%9C%EB%A0%A5-%EC%83%9D%EC%84%B1-%ED%95%A8%EC%88%98"><span class="header-section-number">3.2</span> 출력 함수: 출력 표출 함수와 출력 생성 함수</a></li>
  </ul>
</li>
  <li>
<a href="#%EB%B0%98%EC%9D%91%EC%84%B1-%ED%95%A8%EC%88%98" id="toc-반응성-함수" class="nav-link" data-scroll-target="#%EB%B0%98%EC%9D%91%EC%84%B1-%ED%95%A8%EC%88%98"><span class="header-section-number">4</span> 반응성 함수</a>
  <ul class="collapse">
<li><a href="#%EC%A0%95%EC%9D%98" id="toc-정의" class="nav-link" data-scroll-target="#%EC%A0%95%EC%9D%98"><span class="header-section-number">4.1</span> 정의</a></li>
  <li><a href="#%EC%A2%85%EB%A5%98" id="toc-종류" class="nav-link" data-scroll-target="#%EC%A2%85%EB%A5%98"><span class="header-section-number">4.2</span> 종류</a></li>
  </ul>
</li>
  <li><a href="#bslib-%ED%8C%A8%ED%82%A4%EC%A7%80%EC%9D%98-%ED%99%9C%EC%9A%A9" id="toc-bslib-패키지의-활용" class="nav-link" data-scroll-target="#bslib-%ED%8C%A8%ED%82%A4%EC%A7%80%EC%9D%98-%ED%99%9C%EC%9A%A9"><span class="header-section-number">5</span> <strong>bslib</strong> 패키지의 활용</a></li>
  <li>
<a href="#%EC%9B%B9-%EC%95%B1%EC%9D%98-%EA%B3%B5%EC%9C%A0" id="toc-웹-앱의-공유" class="nav-link" data-scroll-target="#%EC%9B%B9-%EC%95%B1%EC%9D%98-%EA%B3%B5%EC%9C%A0"><span class="header-section-number">6</span> 웹 앱의 공유</a>
  <ul class="collapse">
<li><a href="#%EC%9B%B9-%EC%95%B1-%EB%B0%B0%ED%8F%ACdeployment" id="toc-웹-앱-배포deployment" class="nav-link" data-scroll-target="#%EC%9B%B9-%EC%95%B1-%EB%B0%B0%ED%8F%ACdeployment"><span class="header-section-number">6.1</span> 웹 앱 배포(deployment)</a></li>
  <li><a href="#quarto%EC%99%80-shiny%EC%9D%98-%EA%B2%B0%ED%95%A9" id="toc-quarto와-shiny의-결합" class="nav-link" data-scroll-target="#quarto%EC%99%80-shiny%EC%9D%98-%EA%B2%B0%ED%95%A9"><span class="header-section-number">6.2</span> Quarto와 Shiny의 결합</a></li>
  </ul>
</li>
  <li>
<a href="#%EA%B3%A0%EC%B0%A8-%EC%A3%BC%EC%A0%9C" id="toc-고차-주제" class="nav-link" data-scroll-target="#%EA%B3%A0%EC%B0%A8-%EC%A3%BC%EC%A0%9C"><span class="header-section-number">7</span> 고차 주제</a>
  <ul class="collapse">
<li><a href="#llm-%EA%B8%B0%EB%B0%98-chatbot-%EC%9B%B9-%EC%95%B1" id="toc-llm-기반-chatbot-웹-앱" class="nav-link" data-scroll-target="#llm-%EA%B8%B0%EB%B0%98-chatbot-%EC%9B%B9-%EC%95%B1"><span class="header-section-number">7.1</span> LLM-기반 ChatBot 웹 앱</a></li>
  </ul>
</li>
  </ul><div class="toc-actions"><ul><li><a href="https://github.com/sangillee66/data_science/issues/new" class="toc-action"><i class="bi bi-github"></i>이슈 보고</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<h1 class="title d-none d-lg-block">웹 앱 개발: Shiny의 활용</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">저자</div>
    <div class="quarto-title-meta-contents">
             <p>이상일(서울대학교 지리교육과) </p>
          </div>
  </div>
    
  
    <div>
    <div class="quarto-title-meta-heading">Modified</div>
    <div class="quarto-title-meta-contents">
      <p class="date-modified">2025년 12월 17일</p>
    </div>
  </div>
    
  </div>
  


</header><section id="개요" class="level2 unnumbered"><h2 class="unnumbered anchored" data-anchor-id="개요">개요</h2>
<p>여기서는 웹 앱 개발 도구로서의 <a href="https://shiny.posit.co/"><strong>Shiny</strong></a>에 대해 배운다. <a href="https://shiny.posit.co/"><strong>Shiny</strong></a>는 서버-기반의 웹 앱을 개발하기 위한 프레임워크를 제공한다. 원래 <a href="https://rstudio.github.io/shiny/">R 패키지</a>로 개발되었으나 이제는 R과 Python 모두를 위한 웹 앱 개발 도구로 발전하고 있다.</p>
<ul>
<li><p><a href="https://shiny.posit.co/r/getstarted/shiny-basics/lesson1/">Shiny for R</a></p></li>
<li><p><a href="https://shiny.posit.co/py/">Shiny for Python</a></p></li>
</ul>
<p><a href="https://shiny.posit.co/r/getstarted/shiny-basics/lesson1/"><strong>Shiny</strong></a>를 배우기 위한 다양한 리소스가 존재한다. 가장 중요한 리소스는 <a href="https://shiny.posit.co/r/getstarted/shiny-basics/lesson1/">Shiny for R</a> 홈페이지이다. Get Started를 살펴본 후 Gallery의 다양한 예제를 살펴보는 것으로 시작하는 것이 좋다. 이 홈페이지의 내용만으로도 Shiny의 기본 구조와 문법을 익히기에 충분하다.</p>
<p>좀 더 종합적으로 Shiny을 이해하려면 다음의 웹 북을 활용할 수 있다. 첫 번째가 바이블이라고 할 수 있다.</p>
<ul>
<li><p><a href="https://mastering-shiny.org/"><em>Mastering Shiny</em></a> by <a href="https://hadley.nz/">Hadley Wickham</a></p></li>
<li><p><a href="https://unleash-shiny.rinterface.com/"><em>Outstanding User Interfaces with Shiny</em></a></p></li>
<li><p><a href="https://engineering-shiny.org/"><em>Engineering Production-Grade Shiny Apps</em></a></p></li>
<li><p><a href="https://plotly-r.com/"><em>Interactive Web-Based Data Visualization with R, plotly, and shiny</em></a></p></li>
<li><p><a href="https://bookdown.org/loankimrobinson/rshinybook/"><em>R Shiny Applications in Finance, Medicine Pharama and Education Industry</em></a></p></li>
<li><p><a href="https://bookdown.org/hneth/i2ds/shiny.html"><em>Introduction to Data Science</em>: 25 Shiny Applications</a></p></li>
<li><p><a href="https://greendaygh.github.io/Rprog2021/shiny.html">데이터 사이언스를 위한 R 프로그래밍: 14 shiny</a></p></li>
</ul></section><section id="기본-동작" class="level2" data-number="1"><h2 data-number="1" class="anchored" data-anchor-id="기본-동작">
<span class="header-section-number">1</span> 기본 동작</h2>
<section id="기본-구조" class="level3" data-number="1.1"><h3 data-number="1.1" class="anchored" data-anchor-id="기본-구조">
<span class="header-section-number">1.1</span> 기본 구조</h3>
<p>Shiny는 크게 세 부분으로 나뉘어 진다(<a href="#fig-structure" class="quarto-xref">그림&nbsp;1</a>).</p>
<p>첫째, <strong>UI</strong>(혹은 UX) 부분이다. 프론트엔트(front-end) 부분으로 <strong>입력을 받고</strong>, Server에서 산출된 <strong>출력을 표출</strong>하는 부분이다.</p>
<p>둘째, <strong>Server</strong> 부분이다. 백엔드(back-end) 부분으로 UI에서 받은 입력에 기반하여 <strong>출력을 산출</strong>하는 부분이다.</p>
<p>셋째, <strong>결합 및 실행</strong> 부분이다. UI와 Server 부분을 결합해 웹 앱을 실행하는 부분이다. 결합 및 실행은 단일 파일 속에 UI와 Server를 함께 다루는 방식과, 두 개의 파일로 분할하여 다루는 방식으로 나뉜다. 여기서는 전자를 중심으로 설명한다.</p>
<div id="fig-structure" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-structure-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="https://bookdown.org/hneth/i2ds/images/Shiny_ui_server.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1" title="그림&nbsp;1: Shiny의 구조(https://bookdown.org/hneth/i2ds/shiny.html)"><img src="https://bookdown.org/hneth/i2ds/images/Shiny_ui_server.png" title="Shiny의 구조" class="img-fluid figure-img"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-structure-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
그림&nbsp;1: Shiny의 구조(<a href="https://bookdown.org/hneth/i2ds/shiny.html" class="uri">https://bookdown.org/hneth/i2ds/shiny.html</a>)
</figcaption></figure>
</div>
</section><section id="shiny-프로젝트의-생성" class="level3" data-number="1.2"><h3 data-number="1.2" class="anchored" data-anchor-id="shiny-프로젝트의-생성">
<span class="header-section-number">1.2</span> Shiny 프로젝트의 생성</h3>
<p>여기서는 RStudio에서 Shiny 프로젝트를 생성하는 방법에 대해 배운다. New Project &gt; New Directory &gt; Shiny Application을 선택한다. <a href="#fig-create" class="quarto-xref">그림&nbsp;2</a> 에서 Directory name과 Subdirectory의 위치를 설정한다.</p>
<div id="fig-create" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-create-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="images/clipboard-1356184653.png" class="lightbox" data-gallery="quarto-lightbox-gallery-2" title="그림&nbsp;2: Shiny 프로젝트의 생성"><img src="images/clipboard-1356184653.png" class="img-fluid figure-img"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-create-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
그림&nbsp;2: Shiny 프로젝트의 생성
</figcaption></figure>
</div>
<p>이렇게 하면 Shiny 프로젝트가 생성되고, 자동적으로 app.R이라는 스크립트 파일이 생성된다.</p>
</section><section id="웹-앱의-생성" class="level3" data-number="1.3"><h3 data-number="1.3" class="anchored" data-anchor-id="웹-앱의-생성">
<span class="header-section-number">1.3</span> 웹 앱의 생성</h3>
<p>app.R에서 스크립트 윈도우 오른쪽 상단에 위치한 Run App 버튼을 클릭하면 <a href="#fig-first" class="quarto-xref">그림&nbsp;3</a> 같은웹 앱이 새로운 윈도우에 생성된다. 왼쪽의 슬라이더바를 움직이면 오른쪽의 히스토그램이 변한다는 점을 확인한다. 즉 빈(bin)의 개수를 달리하면서 데이터 분포를 탐색해보기 위한 단순한 웹 앱이 만들어진 것이다.</p>
<div id="fig-first" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-first-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="images/clipboard-295121675.png" class="lightbox" data-gallery="quarto-lightbox-gallery-3" title="그림&nbsp;3: 단순한 웹 앱"><img src="images/clipboard-295121675.png" class="img-fluid figure-img"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-first-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
그림&nbsp;3: 단순한 웹 앱
</figcaption></figure>
</div>
<p>이 단순한 웹 앱을 살펴본다. 다음과 같은 점을 확인할 수 있다.</p>
<p>첫째, 크게 두 부분으로 구성되어 있는데, 왼편의 슬라이더바가 있는 부분과 오른편의 히스토그램이 있는 부분으로 나뉜다. 부차적으로 상단에 제목(“Old Faithful Geyser Data”)이 있는 부분도 존재한다. 이 모든 것이 UI를 구성한다. 위에서 UI는 입력을 받고 출력을 표출한다고 했다. 왼편의 슬라이더바가 입력을 받는 부분이고, 오른편의 플롯 영역이 출력을 표출하는 부분이다.</p>
<p>둘째, 사용자의 입력은 빈(bin)의 갯수이고, Server는 이 값을 바탕으로 히스토그램이라는 출력을 생성한다. 생성된 출력은 UI로 이동하여 표출된다. 사용자의 입력값이 바뀌면 이 과정이 반복되고 히스토그램이 바뀌게 된다.</p>
</section></section><section id="shiny의-기본-문법-체계" class="level2" data-number="2"><h2 data-number="2" class="anchored" data-anchor-id="shiny의-기본-문법-체계">
<span class="header-section-number">2</span> Shiny의 기본 문법 체계</h2>
<p>이제 <a href="#fig-first" class="quarto-xref">그림&nbsp;3</a> 웹 앱을 생성한 코드를 살펴보도록 한다. 코드 속에는 다양한 설명이 포함되어 있는데 그것을 제거하고 코드만 남기면 결국 다음과 같다. 문법이 <a href="https://tidyverse.org/"><strong>tidyverse</strong></a>와는 많이 다르다는 점을 금방 인식할 수 있다. 따라서 <a href="https://rstudio.github.io/shiny/"><strong>shiny</strong></a>의 문법 체계는 따로 익힐 수 밖에 없다.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://shiny.posit.co/">shiny</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html">fluidPage</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/titlePanel.html">titlePanel</a></span><span class="op">(</span><span class="st">"Old Faithful Geyser Data"</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/sidebarLayout.html">sidebarLayout</a></span><span class="op">(</span></span>
<span>        <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/sidebarLayout.html">sidebarPanel</a></span><span class="op">(</span></span>
<span>            <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/sliderInput.html">sliderInput</a></span><span class="op">(</span>inputId <span class="op">=</span> <span class="st">"bins"</span>,</span>
<span>                        label <span class="op">=</span> <span class="st">"Number of bins:"</span>,</span>
<span>                        min <span class="op">=</span> <span class="fl">1</span>,</span>
<span>                        max <span class="op">=</span> <span class="fl">50</span>,</span>
<span>                        value <span class="op">=</span> <span class="fl">30</span><span class="op">)</span></span>
<span>        <span class="op">)</span>,</span>
<span>        <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/sidebarLayout.html">mainPanel</a></span><span class="op">(</span></span>
<span>           <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/plotOutput.html">plotOutput</a></span><span class="op">(</span>outputId <span class="op">=</span> <span class="st">"distPlot"</span><span class="op">)</span></span>
<span>        <span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">output</span><span class="op">$</span><span class="va">distPlot</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderPlot.html">renderPlot</a></span><span class="op">(</span><span class="op">{</span></span>
<span>        <span class="va">x</span>    <span class="op">&lt;-</span> <span class="va">faithful</span><span class="op">[</span>, <span class="fl">2</span><span class="op">]</span></span>
<span>        <span class="va">bins</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">min</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>, length.out <span class="op">=</span> <span class="va">input</span><span class="op">$</span><span class="va">bins</span> <span class="op">+</span> <span class="fl">1</span><span class="op">)</span></span>
<span>        <span class="fu"><a href="https://rdrr.io/r/graphics/hist.html">hist</a></span><span class="op">(</span><span class="va">x</span>, breaks <span class="op">=</span> <span class="va">bins</span>, col <span class="op">=</span> <span class="st">'darkgray'</span>, border <span class="op">=</span> <span class="st">'white'</span>,</span>
<span>             xlab <span class="op">=</span> <span class="st">'Waiting time to next eruption (in mins)'</span>,</span>
<span>             main <span class="op">=</span> <span class="st">'Histogram of waiting times'</span><span class="op">)</span></span>
<span>    <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/shinyApp.html">shinyApp</a></span><span class="op">(</span>ui <span class="op">=</span> <span class="va">ui</span>, server <span class="op">=</span> <span class="va">server</span><span class="op">)</span></span></code></pre></div><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>코드를 자세히 살펴보자. 우선 <a href="https://rstudio.github.io/shiny/"><strong>shiny</strong></a>라는 R 패키지를 불러와야 한다. 코드가 ui, server, shinyApp의 세 부분으로 나뉘어져 있다는 것을 알 수 있고, 이것이 위에서 설명한 UI 부분, Server 부분, 결합 및 실행 부분을 담당한다는 점을 쉽게 이해할 수 있다.</p>
<section id="ui-부분" class="level3" data-number="2.1"><h3 data-number="2.1" class="anchored" data-anchor-id="ui-부분">
<span class="header-section-number">2.1</span> UI 부분</h3>
<p>UI 부분은 다양한 함수들이 위계 구조를 이루고 있는데, 전체 구조를 결정하는 <strong>레이아웃 함수</strong>가 마치 컨테이너처럼 존재하고 그 속에 <strong>입출력 함수</strong>가 포함되어 있는 구조이다.</p>
<p>첫째, 레이아웃 함수가 위계 구조를 이루고 있다. 최상위 <code><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html">fluidPage()</a></code> 함수는 <code><a href="https://rdrr.io/pkg/shiny/man/titlePanel.html">titlePanel()</a></code>과 <code><a href="https://rdrr.io/pkg/shiny/man/sidebarLayout.html">sidebarLayout()</a></code>로 구성되고, <code><a href="https://rdrr.io/pkg/shiny/man/sidebarLayout.html">sidebarLayout()</a></code>은 다시 <code><a href="https://rdrr.io/pkg/shiny/man/sidebarLayout.html">sidebarPanel()</a></code>과 <code><a href="https://rdrr.io/pkg/shiny/man/sidebarLayout.html">mainPanel()</a></code>로 구성된다. 하나씩 위계적으로 살펴보면 다음과 같다.</p>
<ul>
<li>
<p><code><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html">fluidPage()</a></code> : UI의 최상위 컨테이너로서 전체 레이아웃을 관장하며, 브라우저 화면 크기에 따라 자동으로 늘어나고 줄어드는 반응형 레이아웃을 제공한다. 이러한 특성 때문에 ’fluid’라는 이름이 붙었다. 고정 폭을 가진 레이아웃은 <code><a href="https://rdrr.io/pkg/shiny/man/fixedPage.html">fixedPage()</a></code>를 통해 정의할 수 있다. Shiny 앱에서는 기본적으로 <code><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html">fluidPage()</a></code>를 사용한다고 생각하면 된다.</p>
<ul>
<li><p><code><a href="https://rdrr.io/pkg/shiny/man/titlePanel.html">titlePanel()</a></code> : 제목이 들어가는 부분이다. 생략가능하다.</p></li>
<li>
<p><code><a href="https://rdrr.io/pkg/shiny/man/sidebarLayout.html">sidebarLayout()</a></code>: UI의 핵심 부분으로, 가장 전형적인 “사이드바 + 메인 영역” 레이아웃을 <code><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html">fluidPage()</a></code> 내에 생성할 수 있게 해준다.</p>
<ul>
<li><p><code><a href="https://rdrr.io/pkg/shiny/man/sidebarLayout.html">sidebarPanel()</a></code>: 입력을 받는 부분으로, 입력 함수 혹은 입력 위젯(widget)을 담는 컨테이너이다.</p></li>
<li><p><code><a href="https://rdrr.io/pkg/shiny/man/sidebarLayout.html">mainPanel()</a></code> : 출력을 표출하는 부분으로, 서버에서 생성된 출력 객체가 UI에 표시될 수 있도록 출력 표출(바인딩) 함수를 담는 컨테이너이다.</p></li>
</ul>
</li>
</ul>
</li>
</ul>
<p>둘째, <code><a href="https://rdrr.io/pkg/shiny/man/sidebarLayout.html">sidebarPanel()</a></code> 내의 <code><a href="https://rdrr.io/pkg/shiny/man/sliderInput.html">sliderInput()</a></code>은 특정한 <strong>입력 함수</strong> 혹은 <strong>입력 위젯 생성 함수</strong>이다. 여기서는 슬라이더바 형태의 입력을 받기 때문에 <code><a href="https://rdrr.io/pkg/shiny/man/sliderInput.html">sliderInput()</a></code> 함수가 사용된 것이다. 입력의 형태에 따라 다양한 입력 함수가 존재하며, 일반적으로 <code>*Input()</code> 형식을 띤다. 뒤에서 자세히 다룬다. 개별 함수는 상호작용형 인터페이스 컴포넌트로 미리 만들어져 있기 때문에 위젯이라고 부른다. <code><a href="https://rdrr.io/pkg/shiny/man/sliderInput.html">sliderInput()</a></code>은 다양한 인수로 구성되어 있는데, 가장 중요한 것이 <code>inputId</code> 인수이다. 입력 함수는 위젯을 통해 입력값을 받고 그 입력값은 Server의 <code>input</code> 객체의 한 요소가 되는데 <code>inputId</code> 인수는 <code>input</code> 객체에서 해당 요소를 참조할 ’이름’을 지정한다.</p>
<p>셋째, <code><a href="https://rdrr.io/pkg/shiny/man/sidebarLayout.html">mainPanel()</a></code> 내의 <code><a href="https://rdrr.io/pkg/shiny/man/plotOutput.html">plotOutput()</a></code>은 특정한 <strong>출력 표출 함수</strong> 혹은 <strong>출력 바인딩(binding) 함수</strong>이다. 이것은 Server에서 전달받은 출력 즉 <code>output</code> 객체의 요소를 표출한다. 바인딩 함수라고 부르는 것은 출력 요소와 브라우저의 특정 UI 영역을 ’연결(바인드)’하기 때문이다. 출력의 형태가 플롯(plot)이기 때문에 <code><a href="https://rdrr.io/pkg/shiny/man/plotOutput.html">plotOutput()</a></code> 함수가 사용된 것이다. 출력의 형태에 따라 다양한 출력 표출 함수가 존재하며, 일반적으로 <code>*Output()</code>의 형식을 띤다. 뒤에서 자세히 다룬다. <code><a href="https://rdrr.io/pkg/shiny/man/plotOutput.html">plotOutput()</a></code> 함수의 가장 중요한 인수는 <code>outputId</code>로 표출할 <code>output</code> 객체의 요소의 ’이름’을 지정한다. <code>plotOutput(outputId = "distPlot")</code>는 서버에서 만들어진 <code>"distPlot"</code>라는 이름의 플롯(<code>output</code> 객체의 한 요소)을 해당 위치에 표출한다는 의미이다.</p>
<blockquote class="blockquote">
<p>결국 UI는 입력을 받고 출력을 표출하는 두 가지 일을 하는데, 전자는 <code><a href="https://rdrr.io/pkg/shiny/man/sliderInput.html">sliderInput()</a></code>과 같은 입력 함수를 통해 이루어지며, 후자는 <code><a href="https://rdrr.io/pkg/shiny/man/plotOutput.html">plotOutput()</a></code>과 같은 출력 표출 함수를 통해 이루어진다. 이들 함수는 출력과 입력의 형식에 따라 일반적으로 <code>*Input()</code>과 <code>*Output()</code>의 형태를 띤다.</p>
</blockquote>
</section><section id="server-부분" class="level3" data-number="2.2"><h3 data-number="2.2" class="anchored" data-anchor-id="server-부분">
<span class="header-section-number">2.2</span> Server 부분</h3>
<p>Server 부분은 다음과 같은 구조를 가지고 있다.</p>
<p>첫째, Server 부분은 반드시 <strong>함수</strong>로 정의되며, 일반적으로 <code>function(input, output){}</code> 혹은 <code>function(input, output, session){}</code>의 형식을 갖는다(<code>input</code>과 <code>output</code>은 필수이지만 <code>session</code>은 부가적으로 정의될 수 있다). 반드시 함수로 정의되어야 하는 것은 <code>input</code>과 <code>output</code>(부가적으로 session)을 인수로 받아, 입력 변화에 따라 반응형 출력이 생성 및 갱신되는 로직을 정의하기 때문입니다.</p>
<p>둘째, 출력물은 <code>renderPlot({})</code>과 같은 <strong>출력 생성 함수(렌더링 함수)</strong>를 통해 이루어진다. 이렇게 생성된 출력은 ’이름’이 지정되어 Server의 <code>output</code> 객체의 한 원소로 저장된다. 예를 들어, 코드에서 <code>output$distPlot</code>은 생성된 출력에 <code>"distPlot"</code>이라는 이름을 부여하고 이를 <code>output</code> 객체에 저장함을 의미한다. 이 이름은 UI의 출력 표출 함수 <code>plotOutput(outputId = "distPlot")</code>에서 사용되며, 이를 통해 해당 출력이 UI에 표출된다.</p>
<p>셋째, 출력의 형태가 플롯이기 때문에 <code>renderPlot({})</code> 함수가 사용된 것이다. 출력의 형태에 따라 다양한 출력 생성 함수가 존재하며, 일반적으로 <code>render*({})</code>의 형식을 띤다. 뒤에서 자세히 다룬다.</p>
<p>넷째, 입력 함수로부터 전달되어 Server의 <code>input</code> 객체의 요소로 저장된 입력값은 출력 생성 함수 내부에서 사용된다. 예를 들어, <code>seq(min(x), max(x), length.out = input$bins + 1)</code>에서 <code><a href="https://rdrr.io/pkg/shiny/man/sliderInput.html">sliderInput()</a></code> 함수로부터 전달된 <code>bins</code>라는 입력값(즉, <code>input</code> 객체의 한 요소)이 <code><a href="https://rdrr.io/r/base/seq.html">seq()</a></code> 함수 내부에서 사용된다. 입력값이 달라짐에 따라 히스토그램의 모양이 달라지는 이유가 여기에 있다.</p>
<blockquote class="blockquote">
<p>결국 Server는 UI에서 전달된 입력에 기반하여 출력을 산출한다. 구체적으로, <code>input$*</code> 형식의 입력값을 Server 내부에서 사용하여 <code>renderPlot({})</code>와 같은 출력 생성 함수를 통해 출력을 생성하고, 그 결과를 <code>output$*</code> 형식으로 저장함으로써 UI에 표출될 수 있도록 한다.</p>
</blockquote>
</section><section id="결합-및-실행-부분" class="level3" data-number="2.3"><h3 data-number="2.3" class="anchored" data-anchor-id="결합-및-실행-부분">
<span class="header-section-number">2.3</span> 결합 및 실행 부분</h3>
<p>UI와 server 부분은 결합되어 하나의 Shiny 웹 앱을 구성하며, 이를 실행하기 위해 <code><a href="https://rdrr.io/pkg/shiny/man/shinyApp.html">shinyApp()</a></code> 함수가 사용된다. <code>shinyApp(ui = ui, server = server)</code>에서 볼 수 있듯이, <code><a href="https://rdrr.io/pkg/shiny/man/shinyApp.html">shinyApp()</a></code> 함수에 UI 부분과 Server 부분을 지정함으로써 Shiny 웹 앱이 생성되고 실행된다.</p>
<p>이것은 단일 파일 방식으로 결합 및 실행을 하는 것이다. 콘솔창에서 실행하고자 한다면 다음과 같이하면 된다. 파일명에 app.R과 같은 UI와 Server 부분이 모두 포함된 파일의 이름을 지정하면 된다.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb2"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/runApp.html">runApp</a></span><span class="op">(</span><span class="st">"파일명"</span><span class="op">)</span></span></code></pre></div><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>만일 UI와 Server 부분을 다른 파일로 구성하는 분리 파일 방식인 경우는 다음과 같이 진행한다. 우선 UI 부분의 파일을 따로 만든다. 예를 들어 ui.R이라는 스크립트 파일을 다음과 같이 생성한다. 단일 파일 방식과 달리 UI 부분을 ui 객체에 할당하지 않아도 된다.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb3"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://shiny.posit.co/">shiny</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html">fluidPage</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/titlePanel.html">titlePanel</a></span><span class="op">(</span><span class="st">"Old Faithful Geyser Data"</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/sidebarLayout.html">sidebarLayout</a></span><span class="op">(</span></span>
<span>        <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/sidebarLayout.html">sidebarPanel</a></span><span class="op">(</span></span>
<span>            <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/sliderInput.html">sliderInput</a></span><span class="op">(</span>inputId <span class="op">=</span> <span class="st">"bins"</span>,</span>
<span>                        label <span class="op">=</span> <span class="st">"Number of bins:"</span>,</span>
<span>                        min <span class="op">=</span> <span class="fl">1</span>,</span>
<span>                        max <span class="op">=</span> <span class="fl">50</span>,</span>
<span>                        value <span class="op">=</span> <span class="fl">30</span><span class="op">)</span></span>
<span>        <span class="op">)</span>,</span>
<span>        <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/sidebarLayout.html">mainPanel</a></span><span class="op">(</span></span>
<span>           <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/plotOutput.html">plotOutput</a></span><span class="op">(</span>outputId <span class="op">=</span> <span class="st">"distPlot"</span><span class="op">)</span></span>
<span>        <span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>마찬가지로 Server 부분의 파일을 따로 만든다. 예를 들어 server.R이라는 스크립트 파일을 다음과 같이 생성한다. 단일 파일 방식과 달리 Server 부분을 server라는 객체에 할당하지 않아도 된다.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb4"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://shiny.posit.co/">shiny</a></span><span class="op">)</span></span>
<span></span>
<span><span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">output</span><span class="op">$</span><span class="va">distPlot</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderPlot.html">renderPlot</a></span><span class="op">(</span><span class="op">{</span></span>
<span>        <span class="va">x</span>    <span class="op">&lt;-</span> <span class="va">faithful</span><span class="op">[</span>, <span class="fl">2</span><span class="op">]</span></span>
<span>        <span class="va">bins</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">min</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>, length.out <span class="op">=</span> <span class="va">input</span><span class="op">$</span><span class="va">bins</span> <span class="op">+</span> <span class="fl">1</span><span class="op">)</span></span>
<span>        <span class="fu"><a href="https://rdrr.io/r/graphics/hist.html">hist</a></span><span class="op">(</span><span class="va">x</span>, breaks <span class="op">=</span> <span class="va">bins</span>, col <span class="op">=</span> <span class="st">'darkgray'</span>, border <span class="op">=</span> <span class="st">'white'</span>,</span>
<span>             xlab <span class="op">=</span> <span class="st">'Waiting time to next eruption (in mins)'</span>,</span>
<span>             main <span class="op">=</span> <span class="st">'Histogram of waiting times'</span><span class="op">)</span></span>
<span>    <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>콘솔 창에서 다음과 같이 실행한다. 이때 지정한 폴더에는 UI 부분을 정의한 파일(예: ui.R)과 server 부분을 정의한 파일(예: server.R)이 포함되어 있어야 한다. 이름은 반드시 ui.R과 server.R이어야 한다.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb5"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/runApp.html">runApp</a></span><span class="op">(</span><span class="st">"폴더명"</span><span class="op">)</span></span></code></pre></div><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>위의 두 가지 방식을 결합한 제3의 길도 있다. 우선 위의 분리 파일 방식과 같이 UI와 Server 부분에 대한 파일을 개별적을 생성한다. 차이점은 반드시 ui와 server 객체를 할당하는 방식으로 이러우져야 한다는 점이다. my_ui.R의 내용은 다음과 같다. 이 방식에서는 UI 부분의 파일 이름이 반드시 ui.R일 필요가 없다.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb6"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html">fluidPage</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/titlePanel.html">titlePanel</a></span><span class="op">(</span><span class="st">"Old Faithful Geyser Data"</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/sidebarLayout.html">sidebarLayout</a></span><span class="op">(</span></span>
<span>        <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/sidebarLayout.html">sidebarPanel</a></span><span class="op">(</span></span>
<span>            <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/sliderInput.html">sliderInput</a></span><span class="op">(</span>inputId <span class="op">=</span> <span class="st">"bins"</span>,</span>
<span>                        label <span class="op">=</span> <span class="st">"Number of bins:"</span>,</span>
<span>                        min <span class="op">=</span> <span class="fl">1</span>,</span>
<span>                        max <span class="op">=</span> <span class="fl">50</span>,</span>
<span>                        value <span class="op">=</span> <span class="fl">30</span><span class="op">)</span></span>
<span>        <span class="op">)</span>,</span>
<span>        <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/sidebarLayout.html">mainPanel</a></span><span class="op">(</span></span>
<span>           <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/plotOutput.html">plotOutput</a></span><span class="op">(</span>outputId <span class="op">=</span> <span class="st">"distPlot"</span><span class="op">)</span></span>
<span>        <span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>my_server.R의 내용은 다음과 같다. 마찬가지로 Server 부분의 파일의 이름이 server.R일 필요가 없다.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb7"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">output</span><span class="op">$</span><span class="va">distPlot</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderPlot.html">renderPlot</a></span><span class="op">(</span><span class="op">{</span></span>
<span>        <span class="va">x</span>    <span class="op">&lt;-</span> <span class="va">faithful</span><span class="op">[</span>, <span class="fl">2</span><span class="op">]</span></span>
<span>        <span class="va">bins</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">min</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>, length.out <span class="op">=</span> <span class="va">input</span><span class="op">$</span><span class="va">bins</span> <span class="op">+</span> <span class="fl">1</span><span class="op">)</span></span>
<span>        <span class="fu"><a href="https://rdrr.io/r/graphics/hist.html">hist</a></span><span class="op">(</span><span class="va">x</span>, breaks <span class="op">=</span> <span class="va">bins</span>, col <span class="op">=</span> <span class="st">'darkgray'</span>, border <span class="op">=</span> <span class="st">'white'</span>,</span>
<span>             xlab <span class="op">=</span> <span class="st">'Waiting time to next eruption (in mins)'</span>,</span>
<span>             main <span class="op">=</span> <span class="st">'Histogram of waiting times'</span><span class="op">)</span></span>
<span>    <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>그리고 나서 단일 파일 방식과 같이 app.R 파일을 통해 결합한다. app.R 파일의 내용은 다음과 같다.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb8"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://shiny.posit.co/">shiny</a></span><span class="op">)</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/source.html">source</a></span><span class="op">(</span><span class="st">"my_ui.R"</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/source.html">source</a></span><span class="op">(</span><span class="st">"my_server.R"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/shinyApp.html">shinyApp</a></span><span class="op">(</span>ui <span class="op">=</span> <span class="va">ui</span>, server <span class="op">=</span> <span class="va">server</span><span class="op">)</span></span></code></pre></div><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>UI 파일과 Server 파일을 분리하는 방식은 코드가 매우 복잡할 때 사용하는 것으로 보통은 단일 파일 방식을 사용한다.</p>
</section></section><section id="입출력-함수의-종류" class="level2" data-number="3"><h2 data-number="3" class="anchored" data-anchor-id="입출력-함수의-종류">
<span class="header-section-number">3</span> 입출력 함수의 종류</h2>
<section id="입력-함수" class="level3" data-number="3.1"><h3 data-number="3.1" class="anchored" data-anchor-id="입력-함수">
<span class="header-section-number">3.1</span> 입력 함수</h3>
<p>앞에서 언급한 것처럼, 입력 함수 혹은 입력 위젯 생성 함수의 종류는 다양하다. <a href="https://shiny.posit.co/r/components/">R Shiny Components</a> 웹페이지 기준으로 대략 25개 정도이다. <a href="#fig-widget" class="quarto-xref">그림&nbsp;4</a> 은 그 중 일부를 보여주고 있다.</p>
<div id="fig-widget" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-widget-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="https://shiny.posit.co/r/getstarted/build-an-app/images/cheatsheet-inputs.png" class="lightbox" data-gallery="quarto-lightbox-gallery-4" title="그림&nbsp;4: 입력 위젯의 종류(https://shiny.posit.co/r/getstarted/build-an-app/reactive-flow/ui-inputs.html)"><img src="https://shiny.posit.co/r/getstarted/build-an-app/images/cheatsheet-inputs.png" class="img-fluid figure-img"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-widget-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
그림&nbsp;4: 입력 위젯의 종류(<a href="https://shiny.posit.co/r/getstarted/build-an-app/reactive-flow/ui-inputs.html" class="uri">https://shiny.posit.co/r/getstarted/build-an-app/reactive-flow/ui-inputs.html</a>)
</figcaption></figure>
</div>
<p>몇 가지 주목할 사항이 있다.</p>
<p>첫째, 모든 함수의 이름이 <code>*Input()</code> 형식인 것은 아니다. 특히 버튼 형식의 경우 <code>*Button()</code> 혹은 <code>*Buttons()</code> 형식을 띤다. 이 외에 <code>*Link()</code>, <code>*switch()</code>로 끝나는 함수도 있다.</p>
<p>둘째, 입력 함수의 인수에 주목할 필요가 있다. 이름을 부여하는 <code>inputID</code> 인수와 입력 위젯의 설명 글귀를 지정하는 <code>label</code> 인수는 공통이다. 그러나 나머지 인수는 입력 함수에 따라 달라진다. 위의 예에서 <code><a href="https://rdrr.io/pkg/shiny/man/sliderInput.html">sliderInput()</a></code> 입력 함수는 <code>min</code>, <code>max</code>, <code>value</code>라는 추가적인 인수를 갖는데, <code>min</code>과 <code>max</code>는 슬라이더의 최대 및 최소값을, <code>value</code>는 위젯에 기본값을 지정하는 인수이다. 입력 함수별 인수에 대한 자세한 사항은 <a href="https://shiny.posit.co/r/components/">R Shiny Components</a> 웹페이지를 참조한다.</p>
</section><section id="출력-함수-출력-표출-함수와-출력-생성-함수" class="level3" data-number="3.2"><h3 data-number="3.2" class="anchored" data-anchor-id="출력-함수-출력-표출-함수와-출력-생성-함수">
<span class="header-section-number">3.2</span> 출력 함수: 출력 표출 함수와 출력 생성 함수</h3>
<p>출력 함수는 서버에서 생성된 출력을 UI에서 표출해주는 출력 표출(바인딩) 함수와 서버에서 실질적으로 출력을 창출하는 출력 생성 함수(렌더링 함수)로 구분된다. 출력 함수의 종류는 출력의 형식(플롯, 테이블, 텍스트, 이미지 등)에 의해 결정되기 때문에 기본적인 출력의 종류에 따라 출력 표출 함수와 출력 생성 함수가 쌍을 이룰 수 밖에 없다.</p>
<p>다음은 다섯 가지 기본 출력 함수의 쌍을 보여준다. 출력 표출 함수는 <code>*Output()</code>의 형식을, 출력 생성 함수는 <code>render*({})</code>의 형식을 취한다.</p>
<table class="caption-top table">
<colgroup>
<col style="width: 26%">
<col style="width: 47%">
<col style="width: 26%">
</colgroup>
<thead><tr class="header">
<th>형식</th>
<th>출력 표출 함수</th>
<th>출력 생성 함수</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>플롯</td>
<td><code>plotOutput(outputID = "")</code></td>
<td><code><a href="https://rdrr.io/pkg/shiny/man/renderPlot.html">renderPlot()</a></code></td>
</tr>
<tr class="even">
<td>테이블</td>
<td><code>tableOutput(outputID = "")</code></td>
<td><code><a href="https://rdrr.io/pkg/shiny/man/renderTable.html">renderTable()</a></code></td>
</tr>
<tr class="odd">
<td>일반 텍스트</td>
<td><code>textOutput(outputID = "")</code></td>
<td><code><a href="https://rdrr.io/pkg/shiny/man/renderPrint.html">renderText()</a></code></td>
</tr>
<tr class="even">
<td>사전 포맷된 텍스트</td>
<td><code>verbatimeTextOutput(outputID = "")</code></td>
<td><code><a href="https://rdrr.io/pkg/shiny/man/renderPrint.html">renderPrint()</a></code></td>
</tr>
<tr class="odd">
<td>이미지</td>
<td><code>imageOutput(outputID = "")</code></td>
<td><code><a href="https://rdrr.io/pkg/shiny/man/renderImage.html">renderImage()</a></code></td>
</tr>
</tbody>
</table>
<p>그런데 특히 주요 시각화 패키지들은 Shiny 웹 앱 구축을 염두에 두고 개별적인 출력 표출 함수와 출력 생성 함수를 제공하고 있다. 중요한 패키지에 대해 이를 정리하면 다음과 같다. 모두 <code>패키지명Output()</code>형식과 <code>render패키지명({})</code>의 형식을 띤다.</p>
<table class="caption-top table">
<thead><tr class="header">
<th>패키지</th>
<th>출력 표출 함수</th>
<th>출력 생성 함수</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><a href="https://rstudio.github.io/DT/"><strong>DT</strong></a></td>
<td><code>DTOutput(outputID = "")</code></td>
<td><code>renderDT({})</code></td>
</tr>
<tr class="even">
<td><a href="https://glin.github.io/reactable/"><strong>reactable</strong></a></td>
<td><code>reactableOutput(outputID = "")</code></td>
<td><code>renderReactable({})</code></td>
</tr>
<tr class="odd">
<td><a href="https://plotly.com/r/"><strong>plotly</strong></a></td>
<td><code>plotlyOutput(outputID = "")</code></td>
<td><code>renderPlotyl({})</code></td>
</tr>
<tr class="even">
<td><a href="https://echarts4r.john-coene.com/"><strong>echarts4r</strong></a></td>
<td><code>echarts4rOutput(outputID = "")</code></td>
<td><code>renderEcharts4r({})</code></td>
</tr>
<tr class="odd">
<td><a href="https://rstudio.github.io/leaflet/"><strong>leaflet</strong></a></td>
<td><code>leafletOutput(outputID = "")</code></td>
<td><code>renderLeaflet({})</code></td>
</tr>
<tr class="even">
<td><a href="https://r-tmap.github.io/tmap/"><strong>tmap</strong></a></td>
<td><code>tmapOutput(outputID = "")</code></td>
<td><code>renderTmap({})</code></td>
</tr>
</tbody>
</table>
<p>Shiny 웹 앱에서의 활용을 염두에 둔 패키지들은 모두 이러한 출력 함수의 쌍을 제공하고 있다. 따라서 출력 함수는 굉장히 많을 수 있다. <a href="https://shiny.posit.co/r/components/">R Shiny Components</a> 웹페이지는 기본 5개의 함수쌍에 주요 패키지를 포함하는 12개 정도의 출력 함수쌍을 예시로 제시하고 있다.</p>
</section></section><section id="반응성-함수" class="level2" data-number="4"><h2 data-number="4" class="anchored" data-anchor-id="반응성-함수">
<span class="header-section-number">4</span> 반응성 함수</h2>
<section id="정의" class="level3" data-number="4.1"><h3 data-number="4.1" class="anchored" data-anchor-id="정의">
<span class="header-section-number">4.1</span> 정의</h3>
<p>Shiny의 반응성(reactivity)이란, 입력값의 변화에 따라 관련된 계산과 출력이 자동으로 재실행ㆍ갱신되는 메커니즘을 의미한다. 좀 더 기술적으로 표현하면 반응성은 입력(<code>input</code>)의 변화가 의존 관계(dependency)를 따라 전파되어, 반응형 표현식과 출력이 자동으로 갱신되는 실행 모델이다.</p>
<p>반응성 함수란, 입력값에 대한 의존성을 추적하고 입력 변화 시 자동으로 재실행되는 함수를 말한다. 따라서 Shiny에서 반응성 함수는 공통적으로 다음 특징을 갖는다.</p>
<ul>
<li><p><code>input$*</code>에 의존</p></li>
<li><p>입력이 바뀌면 자동으로 재실행</p></li>
<li><p>사용자가 직접 호출하지 않음</p></li>
<li><p>Shiny의 반응성 그래프(dependency graph)에 의해 관리됨</p></li>
</ul></section><section id="종류" class="level3" data-number="4.2"><h3 data-number="4.2" class="anchored" data-anchor-id="종류">
<span class="header-section-number">4.2</span> 종류</h3>
<p>Shiny의 반응성 함수는 <strong>역할에 따라 크게 세 부류</strong>로 나눌 수 있다.</p>
<section id="출력-생성-함수-render-계열" class="level4" data-number="4.2.1"><h4 data-number="4.2.1" class="anchored" data-anchor-id="출력-생성-함수-render-계열">
<span class="header-section-number">4.2.1</span> 출력 생성 함수: <code>render*</code> 계열</h4>
<p>출력 생성 함수는 반응형 계산을 통해 출력물을 생성하고, 그 결과를 <code>output</code> 객체의 요소로 저장하는 함수이다. 일반 형식은 다음과 같다.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb9"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">render</span><span class="op">*</span><span class="op">(</span><span class="op">{</span></span>
<span>  <span class="co"># 반응형 코드</span></span>
<span><span class="op">}</span><span class="op">)</span></span></code></pre></div><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>반드시 <code>output$이름 &lt;- render*({ ... })</code> 형태로 사용되며, <strong>출력의 “최종 종착점”이며,</strong> UI의 <code>*Output()</code>과 1:1로 대응된다. 예시는 다음과 같다.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb10"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">output</span><span class="op">$</span><span class="va">distPlot</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderPlot.html">renderPlot</a></span><span class="op">(</span><span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/graphics/hist.html">hist</a></span><span class="op">(</span><span class="va">x</span>, breaks <span class="op">=</span> <span class="va">input</span><span class="op">$</span><span class="va">bins</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span></code></pre></div><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section><section id="반응형-표현식-함수-reactive" class="level4" data-number="4.2.2"><h4 data-number="4.2.2" class="anchored" data-anchor-id="반응형-표현식-함수-reactive">
<span class="header-section-number">4.2.2</span> 반응형 표현식 함수: <code>reactive({})</code>
</h4>
<p><code>reactive({})</code>는 입력값에 따라 달라지는 계산 결과를 반응형 객체로 생성하는 함수이다. 입력을 받아 ’반응성 표현식(reactive expression)’을 생성한다. 여기서 반응성 표현식이란 단순히 최종 산출물(값이나 객체)만을 의미하지 않고, 그 산출물을 관리하는 메커니즘(종속성 추적, 지연 실행, 캐싱 등) 포함하는 동적인 객체를 의미한다. 따라서 반드시 함수 형태로 표기한다.</p>
<p>하나의 입력이 여러 개의 출력 함수(출력 생성 함수)와 결부되는 경우에 주로 사용되는데 동일한 입력의 중복 사용을 회피하기 위해 해당 입력을 반응성 표현식으로 전환하여 다수의 출력 생성 함수에 입력으로 투입할 수 있다.</p>
<p>일반 형식은 다음과 같다.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb11"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">r</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/reactive.html">reactive</a></span><span class="op">(</span><span class="op">{</span></span>
<span>  <span class="co"># 반응형 계산</span></span>
<span><span class="op">}</span><span class="op">)</span></span></code></pre></div><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>출력이 아니라 중간 계산 결과를 생성하며, 반환값은 반응형 객체가 되고, 값에 접근할 때는 함수 형식으로 반드시 <code>()</code> 를 사용해야 한다. 예시는 다음과 같다.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb12"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">bins</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/reactive.html">reactive</a></span><span class="op">(</span><span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">min</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>, length.out <span class="op">=</span> <span class="va">input</span><span class="op">$</span><span class="va">bins</span> <span class="op">+</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span>
<span></span>
<span><span class="va">output</span><span class="op">$</span><span class="va">distPlot</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderPlot.html">renderPlot</a></span><span class="op">(</span><span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/graphics/hist.html">hist</a></span><span class="op">(</span><span class="va">x</span>, breaks <span class="op">=</span> <span class="fu">bins</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span></code></pre></div><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>입력 함수를 통해 받은 <code>input$bins</code>를 읽어 <code>bins</code>라는 새로운 반응형 객체를 생성하고, 그것을 출력 생성 함수에서 투입하는 방식을 보여주고 있다. 반응형 객체는 반드시 bins()처럼 함수 형식으로 호출해야만 한다.</p>
<p>그런데, 여기서는 사실 <code>reactive({})</code> 함수가 반드시 필요한 것은 아니다. 즉, 다음과 같이 해도 무방하다.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb13"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">bins</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">min</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>, length.out <span class="op">=</span> <span class="va">input</span><span class="op">$</span><span class="va">bins</span> <span class="op">+</span> <span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="va">output</span><span class="op">$</span><span class="va">distPlot</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderPlot.html">renderPlot</a></span><span class="op">(</span><span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/graphics/hist.html">hist</a></span><span class="op">(</span><span class="va">x</span>, breaks <span class="op">=</span> <span class="va">bins</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span></code></pre></div><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>그러나 출력 생성 함수가 여러 개 사용되고 거기에 bins가 여러 번 사용된다면 위와 같이 하는 것이 훨씬 효율적이다.</p>
</section><section id="반응형-관찰자-함수-observe-계열" class="level4" data-number="4.2.3"><h4 data-number="4.2.3" class="anchored" data-anchor-id="반응형-관찰자-함수-observe-계열">
<span class="header-section-number">4.2.3</span> 반응형 관찰자 함수: <code>observe*()</code> 계열</h4>
<p>반응형 관찰자 함수는 입력 변화에 반응하여 특정 동작(side effect)을 수행하는 함수이다. 대표적인 함수는 다음과 같다.</p>
<ul>
<li><p><code><a href="https://rdrr.io/pkg/shiny/man/observe.html">observe()</a></code></p></li>
<li><p><code><a href="https://rdrr.io/pkg/shiny/man/observeEvent.html">observeEvent()</a></code></p></li>
<li><p><code><a href="https://rdrr.io/pkg/shiny/man/observeEvent.html">eventReactive()</a></code> (중간적 성격)</p></li>
</ul>
<p>특징은 값을 반화하지 않고, 출력 생성이 목적도 아니다. 주로 상태 변경, 메시지 출력, UI 업데이트에 사용된다. 다음에 예시가 있다.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb14"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/observeEvent.html">observeEvent</a></span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">go</span>, <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">"버튼이 눌렸습니다\n"</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span></code></pre></div><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>입력 함수 <code>actionButton(inputID = "go", ...)</code>로부터 버튼을 누를 때 마다 <code>"go"</code>라는 입력 요소의 값(<code>input$go</code>)이 1씩 증가하고, <code>input$go</code>값이 변할 때마다(즉, 버튼이 눌릴 때마다) Server에서 <code><a href="https://rdrr.io/r/base/Paren.html">{ }</a></code> 속의 내용을 실행한다. 위의 예시의 경우 버튼을 클리할 때마다 콘솔에 “버튼이 눌렸습니다”가 출력된다.</p>
<p>좀 더 현실적인 예시를 제시하면 다음과 같다. 버튼 클릭시 계산을 실행하게 할 수 있다.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb15"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/observeEvent.html">observeEvent</a></span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">go</span>, <span class="op">{</span></span>
<span>  <span class="va">result</span> <span class="op">&lt;-</span> <span class="fu">heavy_calculation</span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">result</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span></code></pre></div><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>UI 요소를 업데이트하게 할 수 있다.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb16"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/observeEvent.html">observeEvent</a></span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">go</span>, <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/updateSliderInput.html">updateSliderInput</a></span><span class="op">(</span><span class="va">session</span>, <span class="st">"bins"</span>, value <span class="op">=</span> <span class="fl">20</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span></code></pre></div><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>파일을 저장하게 할 수 있다.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb17"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/observeEvent.html">observeEvent</a></span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">save</span>, <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/write.table.html">write.csv</a></span><span class="op">(</span><span class="va">data</span>, <span class="st">"result.csv"</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span></code></pre></div><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>사실 observeEvent() 함수는 observe() 함수와 매우 유사하다. 아래는 동일하게 작동한다.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb18"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/observe.html">observe</a></span><span class="op">(</span><span class="op">{</span></span>
<span>  <span class="va">input</span><span class="op">$</span><span class="va">go</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">"버튼이 눌렸습니다\n"</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span></code></pre></div><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>그러나 <code><a href="https://rdrr.io/pkg/shiny/man/observeEvent.html">observeEvent()</a></code>는 이벤트 중심이고, 의존성을 명확히 분리하며, 가독성과 안전성을 높이는 장점이 있다. 따라서 버튼 처리에는 <code><a href="https://rdrr.io/pkg/shiny/man/observeEvent.html">observeEvent()</a></code>가 권장된다.</p>
</section></section></section><section id="bslib-패키지의-활용" class="level2" data-number="5"><h2 data-number="5" class="anchored" data-anchor-id="bslib-패키지의-활용">
<span class="header-section-number">5</span> <a href="https://rstudio.github.io/bslib/"><strong>bslib</strong></a> 패키지의 활용</h2>
</section><section id="웹-앱의-공유" class="level2" data-number="6"><h2 data-number="6" class="anchored" data-anchor-id="웹-앱의-공유">
<span class="header-section-number">6</span> 웹 앱의 공유</h2>
<section id="웹-앱-배포deployment" class="level3" data-number="6.1"><h3 data-number="6.1" class="anchored" data-anchor-id="웹-앱-배포deployment">
<span class="header-section-number">6.1</span> 웹 앱 배포(deployment)</h3>
<p>웹 앱을 배포하는 방법은 다양할 수 있지만 여기서는 <a href="https://www.shinyapps.io/">shinyapp.io</a>를 이용하는 방법에 대해 배운다.</p>
<p>첫째, 해당 홈페이지(<a href="https://www.shinyapps.io/" class="uri">https://www.shinyapps.io/</a>)에 접속한다.</p>
<p>둘째, 계정을 생성한다.</p>
<ul>
<li><p>로그인 후 상단 오른쪽 끝 메뉴 “Tokens” 페이지로 이동</p></li>
<li><p>페이지에서 Show를 통해 인증 토큰(Token)과 Secret 확보: Show secret를 클릭하여 secret까지 보이게 한 후 복사하기</p></li>
</ul>
<p>셋째, RStudio에 토큰을 설정한다. 단 한 번만 하면 된다.</p>
<ul>
<li>R 콘솔에 위에서 복사한 내용 붙여넣기 및 실행</li>
</ul>
<p>넷째, Publish 버튼 클릭</p>
<ul>
<li><p>스크립트 윈도우의 오른쪽 상단에 있는 Publish 버튼 클릭</p></li>
<li><p>배포를 원하는 R 파일만 선택</p></li>
</ul>
<p>다섯째, URL을 얻는다. 다음의 형식으로 생성된다.</p>
<ul>
<li>https://userid.shinyapps.io/project_name/</li>
</ul></section><section id="quarto와-shiny의-결합" class="level3" data-number="6.2"><h3 data-number="6.2" class="anchored" data-anchor-id="quarto와-shiny의-결합">
<span class="header-section-number">6.2</span> Quarto와 Shiny의 결합</h3>
<ul>
<li><p>상황: Quarto 대시보드의 일부 영역에서 Shiny 사용</p></li>
<li>
<p>두 가지 접근</p>
<ul>
<li>
<p>Shiny 중심 방식: Shiny 웹 앱의 생성</p>
<ul>
<li><p>Quarto 대시보드 내에서 Quarto 문법으로 Shiny 웹 앱 구축</p></li>
<li><p>Quarto 대시보드 전체가 Shiny 웹 앱화: shinyapps.io를 통해 배포</p></li>
<li><p>사례: <a href="https://sangillee.shinyapps.io/Dashboard_Example/" class="uri">https://sangillee.shinyapps.io/Dashboard_Example/</a></p></li>
</ul>
</li>
<li>
<p>Quarto 중심 방식: Quarto 대시보드의 유지</p>
<ul>
<li><p>Quarto 대시보드 속에 독립적으로 구축된 Shiny 웹 앱 임베딩</p></li>
<li><p>여전히 Quarto 대시보드: Quarto Pub을 통해 배포</p></li>
<li><p>사례: <a href="https://sangillee.snu.ac.kr/dashboard_examples/" class="uri">https://sangillee.snu.ac.kr/dashboard_examples/</a></p></li>
</ul>
</li>
</ul>
</li>
</ul>
<section id="shiny-중심-방식" class="level4" data-number="6.2.1"><h4 data-number="6.2.1" class="anchored" data-anchor-id="shiny-중심-방식">
<span class="header-section-number">6.2.1</span> Shiny 중심 방식</h4>
<ul>
<li>
<p>옵션 1: Quarto를 Shiny 웹 앱의 레이아웃 설정 도구로 사용</p>
<ul>
<li>
<p><strong>shiny</strong> 패키지: <a href="https://rdrr.io/pkg/shiny/man/fluidPage.html"><code>fluidPage()</code></a></p>
<ul>
<li>
<a href="https://rdrr.io/pkg/shiny/man/titlePanel.html"><code>titlePanel()</code></a>, <code>SidebarLayout()</code>, <a href="https://rdrr.io/pkg/shiny/man/sidebarLayout.html"><code>sidebarPanel()</code></a>, <a href="https://rdrr.io/pkg/shiny/man/sidebarLayout.html"><code>mainPanel()</code></a>
</li>
</ul>
</li>
<li>
<p><strong>bslib</strong> 패키지: <a href="https://rstudio.github.io/bslib/reference/page_sidebar.html"><code>page_sidebar()</code></a></p>
<ul>
<li>
<code>sidebar = sidebar()</code>, <a href="https://rstudio.github.io/bslib/reference/card.html"><code>card()</code></a>
</li>
</ul>
</li>
</ul>
</li>
<li><p>옵션 2: Quarto 대시보드 내에서 Shiny 웹 앱 구축</p></li>
<li><p><a href="https://quarto.org/docs/dashboards/interactivity/shiny-r.html" class="uri">https://quarto.org/docs/dashboards/interactivity/shiny-r.html</a></p></li>
<li><p>YAML 헤더에 다음 첨가: <code>server: shiny</code></p></li>
<li>
<p>ui 부분: 기본적으로는 <code>r</code> 코드 청크 속에 포함, 사이드바와 메인 병렬</p>
<ul>
<li><p>사이드바: 레이아웃 구성요소에 넣고 <code>{.sidebar}</code> CSS 클래스 지정 가능</p></li>
<li><p>메인: 사이드바와 다른 레이아웃 구성요소에 넣기 가능</p></li>
</ul>
</li>
<li>
<p>server 부분: <code>r</code> 코드 청크 속에 포함, 다음 지정</p>
<ul>
<li>
<code>#| context: server</code> 지정</li>
</ul>
</li>
<li>
<p>기타(패키지, 데이터 등) 부분: <code>r</code> 코드 청크 속에 포함, 다음 지정</p>
<ul>
<li><p><code>#| context: setup</code></p></li>
<li><p><code>#| include: false</code></p></li>
</ul>
</li>
</ul></section><section id="quarto-중심-방식" class="level4" data-number="6.2.2"><h4 data-number="6.2.2" class="anchored" data-anchor-id="quarto-중심-방식">
<span class="header-section-number">6.2.2</span> Quarto 중심 방식</h4>
<ul>
<li><p>보통 하나의 row에 임베딩</p></li>
<li><p><code>src=""</code> 부분만 교체</p></li>
</ul>
<pre><code>&lt;iframe src="https://..." loading="lazy" style="width: 100%; height: 600px; border: 0px none;" allow="web-share; clipboard-write"&gt;&lt;/iframe&gt;</code></pre>
</section></section></section><section id="고차-주제" class="level2" data-number="7"><h2 data-number="7" class="anchored" data-anchor-id="고차-주제">
<span class="header-section-number">7</span> 고차 주제</h2>
<section id="llm-기반-chatbot-웹-앱" class="level3" data-number="7.1"><h3 data-number="7.1" class="anchored" data-anchor-id="llm-기반-chatbot-웹-앱">
<span class="header-section-number">7.1</span> LLM-기반 ChatBot 웹 앱</h3>


</section></section><a onclick="window.scrollTo(0, 0); return false;" role="button" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> 맨 위로</a></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    // Ensure there is a toggle, if there isn't float one in the top right
    if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
      const a = window.document.createElement('a');
      a.classList.add('top-right');
      a.classList.add('quarto-color-scheme-toggle');
      a.href = "";
      a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
      const i = window.document.createElement("i");
      i.classList.add('bi');
      a.appendChild(i);
      window.document.body.appendChild(a);
    }
    setColorSchemeToggle(hasAlternateSentinel())
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "복사완료!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "복사완료!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="./exec_10.html" class="pagination-link" aria-label="소통하기: 지리공간적 시각화">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">소통하기: 지리공간적 시각화</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer">
    <div class="nav-footer-left">
<p>Copyright 2024, Sang-Il Lee</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    <div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/sangillee66/data_science/issues/new" class="toc-action"><i class="bi bi-github"></i>이슈 보고</a></li></ul></div></div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
<li class="nav-item compact">
    <a class="nav-link" href="https://sangillee.snu.ac.kr/">
      <i class="bi bi-house" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="mailto:si_lee@snu.ac.kr">
      <i class="bi bi-envelope" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/sangillee66">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
</ul>
</div>
  </div>
</footer><script>var lightboxQuarto = GLightbox({"closeEffect":"zoom","descPosition":"bottom","loop":false,"openEffect":"zoom","selector":".lightbox"});
(function() {
  let previousOnload = window.onload;
  window.onload = () => {
    if (previousOnload) {
      previousOnload();
    }
    lightboxQuarto.on('slide_before_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      const href = trigger.getAttribute('href');
      if (href !== null) {
        const imgEl = window.document.querySelector(`a[href="${href}"] img`);
        if (imgEl !== null) {
          const srcAttr = imgEl.getAttribute("src");
          if (srcAttr && srcAttr.startsWith("data:")) {
            slideConfig.href = srcAttr;
          }
        }
      } 
    });
  
    lightboxQuarto.on('slide_after_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(slideNode);
      }
    });
  
  };
  
})();
          </script>


</body></html>